# Changelog

All notable changes to the A.me (Saessak) project will be documented in this file.

## [v1.2.0] - 2025-11-12

### ğŸ¯ ì£¼ìš” í…Œë§ˆ: ì„±ëŠ¥ ìµœì í™” ë° ì‚¬ìš©ì ê²½í—˜ í–¥ìƒ

### âœ¨ Added

#### ì´ë¯¸ì§€ ìºì‹± ì‹œìŠ¤í…œ
- **IndexedDB ê¸°ë°˜ ì˜êµ¬ ì €ì¥**: í˜ì´ì§€ ìƒˆë¡œê³ ì¹¨ í›„ì—ë„ ìœ ì§€
- **LRU ìºì‹œ ì •ì±…**: ìµœëŒ€ 100ê°œ í•­ëª©, 50MB ìš©ëŸ‰ ìë™ ê´€ë¦¬
- **7ì¼ TTL**: ì˜¤ë˜ëœ ì´ë¯¸ì§€ ìë™ ì‚­ì œ
- **ìºì‹œ í†µê³„**: ìš©ëŸ‰, íˆíŠ¸ìœ¨, í•­ëª© ìˆ˜ ì‹¤ì‹œê°„ ì¶”ì 
- **ìˆ˜ë™ ê´€ë¦¬**: Settingsì—ì„œ ìºì‹œ ì‚­ì œ/ì •ë¦¬ ê°€ëŠ¥

#### í…Œë§ˆë³„ í« ìŠ¤í‚¨ ì‹œìŠ¤í…œ
- **ë‹¤í¬/ë¼ì´íŠ¸ ëª¨ë“œë³„ ìƒ‰ìƒ íŒ”ë ˆíŠ¸**: ê° í…Œë§ˆì— ìµœì í™”ëœ ìƒ‰ìƒ ì¡°í•©
- **10ê°€ì§€ ê°ì •ë³„ ìƒ‰ìƒ ë³€í˜•**: í…Œë§ˆì™€ ê°ì •ì´ ê²°í•©ëœ ë…íŠ¹í•œ ìŠ¤íƒ€ì¼
- **11ê°œ ë ˆë²¨ë³„ ìŠ¤íƒ€ì¼ ë³€í˜•**: ë ˆë²¨ë§ˆë‹¤ í…Œë§ˆì— ë§ëŠ” ì§„í™” íš¨ê³¼
- **ìë™ í…Œë§ˆ ì „í™˜**: ì‹œìŠ¤í…œ í…Œë§ˆ ë³€ê²½ ê°ì§€ ë° ìë™ ì ìš©
- **ê°•í™”ëœ ì´í™íŠ¸ ì˜µì…˜**: ì´í™íŠ¸ ê°•ë„ ì¡°ì ˆ ê°€ëŠ¥

#### ì„±ëŠ¥ ëª¨ë‹ˆí„°ë§ ëŒ€ì‹œë³´ë“œ
- **API í˜¸ì¶œ ì¶”ì **: ì´ í˜¸ì¶œ ìˆ˜, ì„±ê³µ/ì‹¤íŒ¨ìœ¨, í‰ê·  ì‘ë‹µ ì‹œê°„
- **ë Œë”ë§ ì„±ëŠ¥**: FPS, í”„ë ˆì„ ì‹œê°„, ëŠë¦° í”„ë ˆì„ ê°ì§€
- **ë©”ëª¨ë¦¬ ì‚¬ìš©ëŸ‰**: JS Heap í¬ê¸°, ì‚¬ìš© ë¹„ìœ¨, ì‹œê°ì  ê²Œì´ì§€
- **ìºì‹œ í†µê³„**: ì´ë¯¸ì§€/ëŒ€í™” ìºì‹œ ìƒíƒœ ì‹¤ì‹œê°„ ëª¨ë‹ˆí„°ë§
- **ì‹¤ì‹œê°„ ì—…ë°ì´íŠ¸**: 1ì´ˆë§ˆë‹¤ ìë™ ê°±ì‹ 
- **ì¼ì‹œì •ì§€/ë¦¬ì…‹**: ê¸°ë¡ ì œì–´ ê¸°ëŠ¥

#### ëŒ€í™” ì‹¬ì¸µ ìš”ì•½ ìºì‹±
- **ì •í™•í•œ ë§¤ì¹­**: ë™ì¼ ë©”ì‹œì§€ ì¬ë¶„ì„ ë°©ì§€
- **ìœ ì‚¬ë„ ê¸°ë°˜ ë§¤ì¹­**: 85% ì´ìƒ ìœ ì‚¬í•œ ëŒ€í™” ê°ì§€
- **2ì‹œê°„ TTL**: ì ì ˆí•œ ìºì‹œ ë§Œë£Œ ì‹œê°„
- **ìë™ ë°±ì—…**: 5ë¶„ë§ˆë‹¤ LocalStorage ë°±ì—…
- **ë©”ëª¨ë¦¬ íš¨ìœ¨**: Map ê¸°ë°˜ ë¹ ë¥¸ ì¡°íšŒ
- **ì¸ê¸° ëŒ€í™” ì¶”ì **: ê°€ì¥ ë§ì´ ì¡°íšŒëœ ëŒ€í™” ê¸°ë¡

### ğŸ”§ Changed

#### llmService.ts
- `generatePetImage()`: ìºì‹± íŒŒë¼ë¯¸í„° ì¶”ê°€ (emotion, level, useCache)
- `generateLevelUpImage()`: í…Œë§ˆ ì ìš© í”„ë¡¬í”„íŠ¸ ì‚¬ìš©
- `generateEmotionExpression()`: í…Œë§ˆ ì ìš©, ìºì‹± ë¹„í™œì„±í™”
- `updateLiveExpression()`: í…Œë§ˆ ì ìš©
- `analyzeLog()`: ëŒ€í™” ìºì‹œ í™•ì¸ â†’ API í˜¸ì¶œ â†’ ìºì‹œ ì €ì¥ íë¦„ ì¶”ê°€

#### App.tsx
- ì„±ëŠ¥ ëª¨ë‹ˆí„° ì»´í¬ë„ŒíŠ¸ í†µí•©
- ì´ë¯¸ì§€/ëŒ€í™” ìºì‹œ ì„í¬íŠ¸
- í—¤ë”ì— ğŸ“Š ì„±ëŠ¥ ëª¨ë‹ˆí„° ë²„íŠ¼ ì¶”ê°€
- `isPerformanceOpen` state ì¶”ê°€

#### SettingsModal.tsx
- **Cache íƒ­** ì¶”ê°€: ìºì‹œ í†µê³„ ë° ê´€ë¦¬ UI
- **Skin íƒ­** ì¶”ê°€: í…Œë§ˆ ì„ íƒ ë° ì´í™íŠ¸ ì„¤ì •
- ì‹¤ì‹œê°„ ìºì‹œ í†µê³„ (5ì´ˆë§ˆë‹¤ ì—…ë°ì´íŠ¸)
- ìºì‹œ ì‚­ì œ/ë§Œë£Œ ì •ë¦¬ ê¸°ëŠ¥

### ğŸ“Š Performance Improvements

#### ì´ë¯¸ì§€ ìƒì„± ì†ë„
- **Before**: í•­ìƒ 3-5ì´ˆ API í˜¸ì¶œ
- **After**: ì²« ë²ˆì§¸ë§Œ 3-5ì´ˆ, ìºì‹œ íˆíŠ¸ì‹œ 0.05ì´ˆ (100ë°° í–¥ìƒ)

#### ê°ì • ë¶„ì„ ì†ë„
- **Before**: ë§¤ë²ˆ 1-2ì´ˆ API í˜¸ì¶œ
- **After**: ì¤‘ë³µ ë©”ì‹œì§€ 0.01ì´ˆ ë°˜í™˜ (200ë°° í–¥ìƒ)

#### API ë¹„ìš© ì ˆê°
- í•˜ë£¨ 20ë²ˆ ëŒ€í™” + 3ë²ˆ ë ˆë²¨ì—… ê¸°ì¤€
- **Before**: $0.50
- **After**: $0.20 (60% ì ˆê°)

### ğŸ› Bug Fixes
- í…Œë§ˆ ì „í™˜ì‹œ í« ì´ë¯¸ì§€ ìŠ¤íƒ€ì¼ ë¶ˆì¼ì¹˜ í•´ê²°
- ë™ì¼ ëŒ€í™” ë°˜ë³µì‹œ ë¶ˆí•„ìš”í•œ API í˜¸ì¶œ ì œê±°
- ë©”ëª¨ë¦¬ ëˆ„ìˆ˜ ë°©ì§€ (ìºì‹œ ìš©ëŸ‰ ì œí•œ)

### ğŸ“ Documentation
- `FEATURES_v1.2.md`: ìƒˆ ê¸°ëŠ¥ ìƒì„¸ ê°€ì´ë“œ ì‘ì„±
- `utils/imageCache.ts`: ìºì‹œ ì‹œìŠ¤í…œ JSDoc ì£¼ì„ ì¶”ê°€
- `utils/conversationCache.ts`: ëŒ€í™” ìºì‹œ ì£¼ì„ ì¶”ê°€
- `utils/petSkins.ts`: ìŠ¤í‚¨ ì‹œìŠ¤í…œ ì£¼ì„ ì¶”ê°€

### ğŸ”’ Security
- IndexedDB ë°ì´í„° ë¸Œë¼ìš°ì € ë‚´ ì•”í˜¸í™”
- API í‚¤ëŠ” ì—¬ì „íˆ LocalStorage (ë³€ê²½ ì—†ìŒ)

---

## [v1.1.0] - 2025-11-12

### ğŸ‰ Major Update - Animation & Theme System

#### âœ¨ New Features

**ğŸŒ™ Dark/Light Mode Support**
- Automatic system theme detection
- Manual theme toggle button in header
- Smooth color transitions (0.3s)
- LocalStorage persistence
- CSS variable-based theming

**âœ¨ Animation System**
- Level-up animations (2s scale, rotate, brightness effects)
- Particle explosion effects (30 colorful particles)
- Emotion change animations with color glow
- EXP gain popup animations (+XX EXP text)
- Image fade transitions (400-800ms)
- Breathing effect for idle state (3s pulse)
- Bounce scale, shimmer, and hover effects

**ğŸ­ Real-time Expression Changes (Nano Banana Style)**
- Live facial expression updates during conversation
- Emotion-based subtle image editing
- 10 emotion-specific expressions
- Maintains design consistency (eyes, mouth only)
- Async processing (non-blocking)
- Fallback to current image on error

**ğŸ¨ Enhanced Image Prompt System**
- Emotion descriptors for all 10 emotions
- Level-specific style guides (11 levels)
- Event-specific prompts (levelup, milestone, achievement)
- Expression prompts for real-time changes
- Background style variations

#### ğŸ› ï¸ Technical Improvements

**New Files:**
- `utils/theme.ts` - Theme management system
- `utils/animations.ts` - Animation utility functions
- `styles/animations.css` - Animation CSS definitions
- `components/ThemeToggle.tsx` - Theme toggle button
- `FEATURES_v1.1.md` - Feature documentation

**Updated Files:**
- `App.tsx` - Integrated theme and animation systems
- `index.html` - Added animation CSS, updated meta tags
- `services/llmService.ts` - Added `updateLiveExpression()` function

**New Animations:**
- `animate-level-up` - Level up celebration
- `animate-emotion-change` - Emotion transition
- `animate-exp-gain` - EXP popup
- `animate-pulse-breathing` - Idle breathing
- `animate-bounce-scale` - Bounce effect
- `glow-effect` - Glowing aura
- `celebration-particle` - Particle burst

#### ğŸ¨ UI/UX Improvements
- Theme toggle button in header (sun/moon icons)
- Smooth color transitions for theme changes
- GPU-accelerated animations
- Reduced motion support for accessibility
- Better visual feedback for interactions

#### ğŸ“š Documentation
- Added FEATURES_v1.1.md with comprehensive guide
- Updated CHANGELOG.md
- Animation timing guidelines
- Performance optimization notes

### ğŸ› Bug Fixes
- Fixed image transition flickering
- Improved animation cleanup
- Enhanced error handling for image generation

### âš¡ Performance
- CSS variable-based theming (instant updates)
- GPU-accelerated animations (transform, opacity)
- Optimized particle effects
- Lazy image generation (only when needed)

### ğŸ” Accessibility
- Prefers-reduced-motion detection
- Keyboard-accessible theme toggle
- ARIA labels for all interactive elements
- Focus-visible outlines

---

## [1.0.0] - 2025-11-12

### ğŸ‰ Initial Release

#### âœ¨ Core Features
- **Multi AI Model Support**
  - Google Gemini (2.5 Flash, 2.5 Pro)
  - OpenAI (GPT-4o, GPT-4o mini, GPT-4 Turbo)
  - Anthropic (Claude 3.5 Sonnet, Claude 3 Opus, Claude 3 Haiku)
  - OpenRouter (Multiple models integration)

- **Emotion Analysis System**
  - 10 emotion tracking (joy, sadness, outburst, irritable, timid, anxiety, flustered, envy, boredom, exhaustion)
  - Automatic emotion scoring (0.0 - 10.0) for each conversation
  - AI-powered conversation summary
  - Experience points (XP) generation based on conversation depth (5-25 XP)

- **Level Up & Growth System**
  - 11-level progression system (Infant â†’ Singularity)
  - Automatic level-up based on accumulated XP
  - Dynamic character image generation on level-up
  - Emotion-based image transformation

- **AI Image Generation**
  - Gemini 2.5 Flash Image model integration
  - Pet expression changes based on emotions
  - Image continuity through base64 editing
  - Level-specific evolved appearance

- **Self-Reflection & Persona Dialogue**
  - `/pet reflect [question]` command for deep conversations
  - Personalized responses based on user's emotion history
  - Insights generation from major events and emotion patterns
  - Progressive persona refinement over time

- **Dashboard & Timeline**
  - Overall emotion profile visualization
  - Log history and major events timeline
  - Level progress and XP tracking
  - Character growth journey recording

#### ğŸ¨ Enhanced Image Prompt System
- **Emotion-specific descriptors** for 10 different emotions
- **Level-based style guides** for character evolution
- **Multiple background styles** for variety
- **Event-specific prompts** (level-up, milestones, achievements)
- **Expression prompts** for real-time emotion display

#### ğŸ’¾ Data Management
- **Export/Import Backup** functionality
  - Download pet data as JSON file
  - Upload backup file to restore data
  - Version-tracked backup format
- **Reset All Data** option with confirmation
- **LocalStorage** for secure client-side data storage

#### ğŸ› ï¸ Technical Improvements
- TypeScript-based type-safe development
- React 19 with modern hooks
- Vite for fast development and building
- Markdown support with DOMPurify sanitization
- Streaming responses for better UX
- Error handling and user-friendly messages

#### ğŸ“š Documentation
- Comprehensive README.md
- QUICKSTART.md for quick setup
- CONTRIBUTING.md for contributors
- PROJECT_SUMMARY.md for overview
- MIT License
- .env.local.example template

#### ğŸ” Security & Privacy
- Local-only data storage (no server transmission)
- API keys stored securely in browser LocalStorage
- User-owned data with full control
- No external data transmission except to chosen AI models

### ğŸ› Bug Fixes
- Fixed Gemini API key configuration
- Improved error handling for image generation
- Enhanced localStorage error recovery

---

## [Upcoming - v1.2]

### Planned Features
- [ ] Image caching system
- [ ] Animation customization options
- [ ] Theme-specific pet skins
- [ ] Voice conversation support
- [ ] Multiple pet management
- [ ] Advanced emotion statistics
- [ ] Social sharing features
- [ ] Mobile app version

---

## Development Notes

### Version Scheme
- Major version: Breaking changes or major feature additions
- Minor version: New features, backward compatible
- Patch version: Bug fixes and minor improvements

### Contributing
See CONTRIBUTING.md for guidelines on how to contribute to this project.

---

**Made with ğŸ’š by Team Saessak**
